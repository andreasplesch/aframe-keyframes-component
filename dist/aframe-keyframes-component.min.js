!function(t){function n(i){if(e[i])return e[i].exports;var a=e[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,n),a.loaded=!0,a.exports}var e={};return n.m=t,n.c=e,n.p="",n(0)}([function(t,n){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var e=AFRAME.utils.bind,i=AFRAME.utils.entity.getComponentProperty,a={linear:AFRAME.TWEEN.Interpolation.Linear,bezier:AFRAME.TWEEN.Interpolation.Bezier,catmullrom:AFRAME.TWEEN.Interpolation.CatmullRom},E={linear:AFRAME.TWEEN.Easing.Linear.None,ease:AFRAME.TWEEN.Easing.Cubic.InOut,"ease-in":AFRAME.TWEEN.Easing.Cubic.In,"ease-out":AFRAME.TWEEN.Easing.Cubic.Out,"ease-in-out":AFRAME.TWEEN.Easing.Cubic.InOut,"ease-cubic":AFRAME.TWEEN.Easing.Cubic.In,"ease-in-cubic":AFRAME.TWEEN.Easing.Cubic.In,"ease-out-cubic":AFRAME.TWEEN.Easing.Cubic.Out,"ease-in-out-cubic":AFRAME.TWEEN.Easing.Cubic.InOut,"ease-quad":AFRAME.TWEEN.Easing.Quadratic.InOut,"ease-in-quad":AFRAME.TWEEN.Easing.Quadratic.In,"ease-out-quad":AFRAME.TWEEN.Easing.Quadratic.Out,"ease-in-out-quad":AFRAME.TWEEN.Easing.Quadratic.InOut,"ease-quart":AFRAME.TWEEN.Easing.Quartic.InOut,"ease-in-quart":AFRAME.TWEEN.Easing.Quartic.In,"ease-out-quart":AFRAME.TWEEN.Easing.Quartic.Out,"ease-in-out-quart":AFRAME.TWEEN.Easing.Quartic.InOut,"ease-quint":AFRAME.TWEEN.Easing.Quintic.InOut,"ease-in-quint":AFRAME.TWEEN.Easing.Quintic.In,"ease-out-quint":AFRAME.TWEEN.Easing.Quintic.Out,"ease-in-out-quint":AFRAME.TWEEN.Easing.Quintic.InOut,"ease-sine":AFRAME.TWEEN.Easing.Sinusoidal.InOut,"ease-in-sine":AFRAME.TWEEN.Easing.Sinusoidal.In,"ease-out-sine":AFRAME.TWEEN.Easing.Sinusoidal.Out,"ease-in-out-sine":AFRAME.TWEEN.Easing.Sinusoidal.InOut,"ease-expo":AFRAME.TWEEN.Easing.Exponential.InOut,"ease-in-expo":AFRAME.TWEEN.Easing.Exponential.In,"ease-out-expo":AFRAME.TWEEN.Easing.Exponential.Out,"ease-in-out-expo":AFRAME.TWEEN.Easing.Exponential.InOut,"ease-circ":AFRAME.TWEEN.Easing.Circular.InOut,"ease-in-circ":AFRAME.TWEEN.Easing.Circular.In,"ease-out-circ":AFRAME.TWEEN.Easing.Circular.Out,"ease-in-out-circ":AFRAME.TWEEN.Easing.Circular.InOut,"ease-elastic":AFRAME.TWEEN.Easing.Elastic.InOut,"ease-in-elastic":AFRAME.TWEEN.Easing.Elastic.In,"ease-out-elastic":AFRAME.TWEEN.Easing.Elastic.Out,"ease-in-out-elastic":AFRAME.TWEEN.Easing.Elastic.InOut,"ease-back":AFRAME.TWEEN.Easing.Back.InOut,"ease-in-back":AFRAME.TWEEN.Easing.Back.In,"ease-out-back":AFRAME.TWEEN.Easing.Back.Out,"ease-in-out-back":AFRAME.TWEEN.Easing.Back.InOut,"ease-bounce":AFRAME.TWEEN.Easing.Bounce.InOut,"ease-in-bounce":AFRAME.TWEEN.Easing.Bounce.In,"ease-out-bounce":AFRAME.TWEEN.Easing.Bounce.Out,"ease-in-out-bounce":AFRAME.TWEEN.Easing.Bounce.InOut};AFRAME.registerComponent("keyframes",{schema:{attribute:{default:"rotation"},begin:{default:""},delay:{default:0},direction:{default:"normal"},dur:{default:1e3},easing:{default:"linear"},end:{default:""},fill:{default:"forwards"},from:{default:""},repeat:{default:0},to:{default:[]},interpolation:{default:"linear"},keys:{default:[]}},multiple:!0,init:function(){var t=document.createElement("a-animation");t.addEventListener("animationstart",e(this.setupAnimation,this)),this.animation=t,this.hasAnimationNode=!1},update:function(t){var n=this.data,e=this.animation;["attribute","begin","delay","dur","easing","end","fill","from","repeat"].forEach(function(t){e.setAttribute(t,n[t])});var E=n.direction;n.to.length>1&&(E="normal"),e.setAttribute("direction",E);var u=i(this.el,n.attribute);if(u instanceof Object){var s=[];for(var o in u)s.push(u[o]);var r=s.join(" ").trim();n.attribute.toLowerCase().endsWith("color")&&(r="rgb( "+s.join(",")+" )"),e.setAttribute("to",r)}else e.setAttribute("to",u);if(this.interpolation=a[n.interpolation]||a.linear,this.keys=n.keys.map(parseFloat).map(function(t){return NaN===t?1:t}),this.keys.length>1){this.keys.sort(function(t,n){return t-n});var A;this.keys.map(function(t,n,e){return t!==A?void(A=t):void(e[n]=t+4*Number.EPSILON*n)})}this.hasAnimationNode?this.el.replaceChild(e,this.animation):(this.el.appendChild(e),this.hasAnimationNode=!0)},setupAnimation:function(t){function n(t,n){if("number"==typeof t)return t;var e=typeof n;return"string"==e?parseFloat(t):"boolean"==e?t?1:0:parseFloat(t.toString())}function e(t,n){return n=n||AFRAME.TWEEN.Easing.Linear.None,function(e){var i=t.length-1,a=AFRAME.TWEEN.Interpolation.Utils.Linear;if(e<=t[0])return n(e);if(e>=t[i])return n(e);var E=t.findIndex(function(t){return t>e}),u=E-1,s=(e-t[u])/(t[E]-t[u]);return n(a(u/i,E/i,s))}}var a=t.target,u=a.tween;u.stop();var s=this.data,o=s.to.map(function(t){return t.split(" ")}),r=i(a.parentNode,s.attribute),A=s.attribute.toLowerCase().endsWith("color");if(A){r=new AFRAME.THREE.Color(0,0,0);var c;o=o.map(function(t){return c=new AFRAME.THREE.Color(t[0]),[c.r,c.g,c.b]})}var l=[];o[0].forEach(function(t){l.push([])}),o.forEach(function(t){t.forEach(function(t,e){l[e].push(n(t,r))})});var d={};r instanceof Object?Object.keys(r).forEach(function(t,n){d[t]=l[n]}):d[this.data.attribute]=l[0],u.to(d,parseFloat(s.dur)),u.interpolation(this.interpolation);var f=E[s.easing]||E.linear;this.keys.length>0&&(f=e(this.keys,f)),u.easing(f),u.start()},remove:function(){},pause:function(){},play:function(){}})}]);