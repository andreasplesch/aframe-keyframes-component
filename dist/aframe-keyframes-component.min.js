!function(t){function e(i){if(n[i])return n[i].exports;var a=n[i]={exports:{},id:i,loaded:!1};return t[i].call(a.exports,a,a.exports,e),a.loaded=!0,a.exports}var n={};return e.m=t,e.c=n,e.p="",e(0)}([function(t,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var n=AFRAME.utils.bind,i=AFRAME.utils.entity.getComponentProperty,a={linear:AFRAME.TWEEN.Interpolation.Linear,bezier:AFRAME.TWEEN.Interpolation.Bezier,catmullrom:AFRAME.TWEEN.Interpolation.CatmullRom};AFRAME.registerComponent("keyframes",{schema:{attribute:{default:"rotation"},begin:{default:""},delay:{default:0},direction:{default:"normal"},dur:{default:1e3},easing:{default:"linear"},end:{default:""},fill:{default:"forwards"},from:{default:""},repeat:{default:0},to:{default:[]},interpolation:{default:"linear"},keys:{default:[]}},multiple:!0,init:function(){var t=document.createElement("a-animation");t.addEventListener("animationstart",n(this.setupAnimation,this)),this.animation=t,this.hasAnimationNode=!1},update:function(t){var e=this.data,n=this.animation;["attribute","begin","delay","dur","easing","end","fill","from","repeat"].forEach(function(t){n.setAttribute(t,e[t])});var r=e.direction;e.to.length>1&&(r="normal"),n.setAttribute("direction",r);var o=i(this.el,e.attribute);if(o instanceof Object){var l=[];for(var u in o)l.push(o[u]);var s=l.join(" ").trim();e.attribute.toLowerCase().endsWith("color")&&(s="rgb( "+l.join(",")+" )"),n.setAttribute("to",s)}else n.setAttribute("to",o);this.interpolation=a[e.interpolation]||a.linear,this.hasAnimationNode?this.el.replaceChild(n,this.animation):(this.el.appendChild(n),this.hasAnimationNode=!0)},setupAnimation:function(t){function e(t,e){if("number"==typeof t)return t;var n=typeof e;return"string"==n?parseFloat(t):"boolean"==n?t?1:0:parseFloat(t.toString())}var n=t.target,a=n.tween;a.stop();var r=this.data,o=r.to.map(function(t){return t.split(" ")}),l=i(n.parentNode,r.attribute),u=r.attribute.toLowerCase().endsWith("color");if(u){l=new AFRAME.THREE.Color(0,0,0);var s;o=o.map(function(t){return s=new AFRAME.THREE.Color(t[0]),[s.r,s.g,s.b]})}var f=[];o[0].forEach(function(t){f.push([])}),o.forEach(function(t){t.forEach(function(t,n){f[n].push(e(t,l))})});var d={};l instanceof Object?Object.keys(l).forEach(function(t,e){d[t]=f[e]}):d[this.data.attribute]=f[0],a.to(d,parseFloat(r.dur)),a.interpolation(this.interpolation),a.start()},remove:function(){},pause:function(){},play:function(){}})}]);