!function(t){function e(n){if(a[n])return a[n].exports;var i=a[n]={exports:{},id:n,loaded:!1};return t[n].call(i.exports,i,i.exports,e),i.loaded=!0,i.exports}var a={};return e.m=t,e.c=a,e.p="",e(0)}([function(t,e){if("undefined"==typeof AFRAME)throw new Error("Component attempted to register before AFRAME was available.");var a=AFRAME.utils.bind,n=AFRAME.utils.entity.getComponentProperty;AFRAME.registerComponent("keyframes",{schema:{attribute:{default:"rotation"},begin:{default:""},delay:{default:0},direction:{default:"normal"},dur:{default:1e3},easing:{default:"ease"},end:{default:""},fill:{default:"forwards"},from:{default:""},repeat:{default:0},to:{default:[]},keys:{default:[]}},multiple:!0,init:function(){this.hasAnimationNode=!1},update:function(t){var e=document.createElement("a-animation");e.addEventListener("animationstart",a(this.setupAnimation,this));var i=this.data;["attribute","begin","delay","direction","dur","easing","end","fill","from","repeat"].forEach(function(t){e.setAttribute(t,i[t])});var r=n(this.el,i.attribute);if(r instanceof Object){var o=[];for(var s in r)o.push(r[s]);var u=o.join(" ").trim();i.attribute.toLowerCase().endsWith("color")&&(u="rgb( "+o.join(",")+" )"),e.setAttribute("to",u)}else e.setAttribute("to",r);this.hasAnimationNode?this.el.replaceChild(e,this.animation):(this.el.appendChild(e),this.hasAnimationNode=!0),this.animation=e},setupAnimation:function(t){function e(t,e){if("number"==typeof t)return t;var a=typeof e;return"string"==a?parseFloat(t):"boolean"==a?t?1:0:parseFloat(t.toString())}var a=t.target,i=a.tween;i.stop();var r=this.data,o=n(a.parentNode,r.attribute),s=1,u=r.attribute.toLowerCase().endsWith("color");u&&(o=new AFRAME.THREE.Color(0,0,0)),o instanceof Object&&(s=Object.keys(o).length,"r"==Object.keys(o)[0]&&(u=!0));var f=[],l=r.to.map(function(t){return t.split(" ")});if(u){var d;l=l.map(function(t){return d=new AFRAME.THREE.Color(t[0]),[d.r,d.g,d.b]})}l[0].forEach(function(t){f.push([])}),l.forEach(function(t){t.forEach(function(t,a){f[a].push(e(t,o))})});var c={};o instanceof Object?Object.keys(o).forEach(function(t,e){c[t]=f[e]}):c[this.data.attribute]=f[0],i.to(c,parseFloat(r.dur)),i.start()},remove:function(){},pause:function(){},play:function(){}})}]);